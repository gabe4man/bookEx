{% extends "base.html" %}
{% load static %}

{% block sidenav %}
   {% for item in item_list %}
      <li>
        <a href="{{ item.link }}">  {{ item.item }} </a>
      </li>
   {% endfor %}
{% endblock sidenav %}

{% block content %}
   <h1>My Books</h1>
   <table border="6" >
      <tr>
          <th>
              Name
          </th>
          <th>
              Price
          </th>
          <th>
              Username
          </th>

          <th>
              DELETE
          </th>
      </tr>
   {% for book in books %}
       <tr>
         <td>
        <a href="book_detail/{{ book.id }}">  {{ book.name }} </a>
         </td>
         <td>
            ${{ book.price }}
         </td>
          <td>
            {{ book.username }}
         </td>
       <td>
        <a href="book_delete/{{ book.id }}">  DELETE </a>
       </td>
      </tr>
   {% endfor %}
   </table>
   
   <h1>My Favorites</h1>
   <table class="table table-striped table-hover align-middle">
    <thead class="table-primary">
        <tr>
            <th>Thumbnail</th>
            <th>Book Name</th>
            <th>Price</th>
            <th>User</th>
            <th>Details</th>
        </tr>
    </thead>

    <tbody>
        {% for book in favorite_books %}
        <tr>
            <td class="text-center">
                <img src="{% static book.pic_path %}" 
                     class="img-thumbnail" 
                     style="width: 80px; height: 80px; object-fit: cover;">
            </td>

            <td><a href="book_detail/{{ book.id }}">  {{ book.name }} </a></td>
            <td>${{ book.price }}</td>
            <td>{{ book.username }}</td>

            <td>
                <a href="{% url 'book_detail' book.id %}" 
                   class="btn btn-sm btn-primary">
                    View
                </a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock content %}